$(document).ready(function () {
    var n = $(".home_group_emi"), t = $(".home_group_total_interest"), _ = $(".home_group_total_payment"), e = 0, o = 0,
        r = 0, a = 0, i = "month";

    function f(n) {
        var t = {from: n};
        $("#loan_amount").data("ionRangeSlider").update(t)
    }

    function m(n) {
        $("#loan_amt_lakh").val(T(n))
    }

    function u(n, t, _) {
        return n * t * Math.pow(1 + t, _) / (Math.pow(1 + t, _) - 1)
    }

    function d(n) {
        return n / 12 / 100
    }

    function N() {
        return Math.round(a * r - e)
    }

    function A() {
        n.text("₹ " + T(Math.round(a))), t.text("₹ " + T(N())), _.text("₹ " + T(Math.round(e + N())))
    }

    function l(n) {
        var t, _, e;
        return "year" === i ? (t = n, _ = Math.floor(t), e = 0, t - Math.floor(t) > 0 && (e = 6), 12 * _ + e) : n
    }

    function T(n) {
        var t = (n = n.toString()).substring(n.length - 3), _ = n.substring(0, n.length - 3);
        return "" != _ && (t = "," + t), _.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + t
    }

    $("#loan_amount").ionRangeSlider({
        skin: "round",
        min: LOAN_MIN_AMOUNT,
        max: LOAN_MAX_AMOUNT,
        from: FROM_LOAN_AMOUNT,
        step: STEP_IN_LOAN_AMOUNT,
        grid: !0,
        grid_num: 1,
        grid_snap: !1,
        prefix: "",
        postfix: " ₹",
        prettify_enabled: !0,
        prettify_separator: "",
        hide_min_max: !0,
        onStart: function (n) {
            e = n.from, $("#loan_amt_lakh").val(T(e))
        },
        onChange: function (n) {
            e = n.from, a = u(e, o, r), m(n.from), A()
        },
        onFinish: function (n) {
            !function (n) {
                STEP_IN_LOAN_AMOUNT
            }(n.from)
        },
        onUpdate: function (n) {
            e = n.from, a = u(e, o, r), A()
        }
    }), $("#loan_interest").ionRangeSlider({
        skin: "round",
        min: "1",
        max: "16",
        from: "6.91",
        step: 0.1,
        grid: !0,
        grid_num: 5,
        grid_snap: !0.5,
        postfix: " %",
        hide_min_max: !0,
        onStart: function (n) {
            $("#edit_interest_rate").val(n.from), o = d(n.from)
        },
        onChange: function (n) {
            $("#edit_interest_rate").val(n.from), o = d(n.from), a = u(e, o, r), A()
        },
        onFinish: function (n) {
        },
        onUpdate: function (n) {
            o = d(n.from), a = u(e, o, r), A()
        }
    }), $("#loan_tenture").ionRangeSlider({
        skin: "round",
        min: LOAN_TENTURE_MONTH_MIN_VALUE,
        max: LOAN_TENTURE_MONTH_MAX_VALUE,
        from: LOAN_TENTURE_MONTH_START_VALUE,
        from_min: LOAN_TENTURE_MONTH_FROM_MIN_VALUE,
        step: 1,
        grid: !0,
        grid_num: 5,
        grid_snap: !1,
        postfix: " month",
        hide_min_max: !0,
        onStart: function (n) {
            "month" == i ? $("#edit_loan_tenture_month").val(n.from) : $("#edit_loan_tenture_year").val(n.from), r = n.from
        },
        onChange: function (n) {
            r = l(n.from), "month" == i ? $("#edit_loan_tenture_month").val(n.from) : $("#edit_loan_tenture_year").val(n.from), a = u(e, o, r), A()
        },
        onFinish: function (n) {
        },
        onUpdate: function (n) {
            r = l(n.from), a = u(e, o, r), A()
        }
    }), $("#head_loan_amt").ionRangeSlider({
        skin: "round",
        min: LOAN_MIN_AMOUNT,
        max: LOAN_MAX_AMOUNT,
        from: FROM_LOAN_AMOUNT,
        step: STEP_IN_LOAN_AMOUNT,
        grid: !0,
        grid_num: 1,
        grid_snap: !1,
        prefix: "₹",
        prettify_enabled: !0,
        prettify_enabled: !0,
        prettify_separator: ",",
        hide_min_max: !0,
        onStart: function (n) {
        },
        onChange: function (n) {
        },
        onFinish: function (n) {
            f(n.from), m(n.from)
        },
        onUpdate: function (n) {
        }
    }), $("#loan_amt_self").ionRangeSlider({
        skin: "round",
        min: LOAN_MIN_AMOUNT,
        max: LOAN_MAX_AMOUNT,
        from: FROM_LOAN_AMOUNT,
        step: STEP_IN_LOAN_AMOUNT,
        grid: !0,
        grid_num: 1,
        grid_snap: !1,
        prefix: "₹",
        prettify_enabled: !0,
        prettify_enabled: !0,
        prettify_separator: ",",
        hide_min_max: !0,
        onStart: function (n) {
        },
        onChange: function (n) {
        },
        onFinish: function (n) {
            f(n.from), m(n.from)
        },
        onUpdate: function (n) {
        }
    }), $.fn.updateAllSliders = function (n) {
        var t;
        f((t = n) > LOAN_MIN_AMOUNT ? Math.trunc(t / STEP_IN_LOAN_AMOUNT) * STEP_IN_LOAN_AMOUNT : LOAN_MIN_AMOUNT)
    }, $.fn.updateInterestRateSlider = function (n) {
        var t = {from: n};
        $("#loan_interest").data("ionRangeSlider").update(t)
    }, $.fn.updateLoanTentureYearSlider = function (n) {
        var t = {from: n};
        $("#loan_tenture").data("ionRangeSlider").update(t)
    }, $.fn.updateLoanTentureMonthSlider = function (n) {
        var t = {from: n};
        $("#loan_tenture").data("ionRangeSlider").update(t)
    }, $("#nav-tab a").click(function (n) {
        if ("nav-home-tab" === $(n.target).attr("id")) {
            i = "month", $("#edit_loan_tenture_year").hide(), $("#edit_loan_tenture_month").show(), $("#edit_loan_tenture_month").val(r);
            var t = {
                min: "6",
                max: "120",
                from: r,
                from_min: LOAN_TENTURE_MONTH_FROM_MIN_VALUE,
                step: 1,
                grid: !0,
                grid_num: 5,
                grid_snap: !1,
                postfix: " month"
            };
            $("#loan_tenture").data("ionRangeSlider").update(t)
        } else {
            i = "year";
            var _ = function (n) {
                var t = Math.floor(n / 12), _ = Math.floor(n % 12), e = 0;
                _ > 0 && (e = .5);
                return totalNumberOfYear = t + e, totalNumberOfYear
            }(r);
            $("#edit_loan_tenture_month").hide(), $("#edit_loan_tenture_year").show(), $("#edit_loan_tenture_year").val(_);
            t = {
                min: "1",
                max: "20",
                from_min: "1",
                from: _,
                grid_num: 5,
                step: .5,
                postfix: " year"
            };
            $("#loan_tenture").data("ionRangeSlider").update(t)
        }
    }), a = u(e, o, r), A()
});